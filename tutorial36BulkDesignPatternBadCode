
//Bad Trigger Code
trigger CustomerStatusTrigger on APEX_Customer__c (after update) {
    for (APEX_Customer__c objCustomer: Trigger.new) {
        //condition to check the old value and new value
        if (objCustomer.APEX_Customer_Status__c == 'Active' && trigger.oldMap.get(objCustomer.id).APEX_Customer_Status__c == 'Inactive') {
            APEX_Invoice__c objInvoice = new APEX_Invoice__c();
            objInvoice.APEX_Status__c = 'Pending';
            objInvoice.APEX_Customer__c = objCustomer.id;
		insert objInvoice;
        }
    }


}
